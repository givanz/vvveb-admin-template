@@include('../_includes/html-head.html', {"title": "Vvveb - Tag","scripts":"","base_href":"../"})

<body class="tag">

<div id="container">
       
    @@include('../_includes/sidebar.html')

    <div class="main">

	@@include('../_includes/top-header.html')

	<form id="settings-form" action="" method="post" class="settings" data-v-tag>
	   <input type="hidden" name="action" id="action" value="save">
	   <div class="actions clearfix">
			<div class="title">
					<h4 class="text-muted my-2">
						<i class="icon-document-outline"></i>
						<span>Tag</span>
					</h4>
			</div>
			<div>			
				<a href="{$this.adminPath}index.php?module=content/tags&taxonomy_id={$this.taxonomy_id}&type={$this.type}" title="Tag list"
					class="btn btn-icon btn-outline-secondary">
						<i class="la la-arrow-left"></i><span>Tag list</span>
				 </a>
				  
				  <button type="submit"
					 class="btn btn-primary btn-icon ms-1"
					>
				  <i class="icon-create-outline"></i> <span>Save tag</span>
				  </button>
		   </div>
	 </div>

	  <div id="main-content" class="px-4">

			@@include('../_includes/notifications.html')
			
			<input type="hidden" name="tag_id" data-v-tag-tag_id>
				
			<div class="mb-3 row">
				<label for="input-site-title" class="col-sm-2 col-form-label">Name</label>
				<div class="col-sm-10">
				  <input type="text" class="form-control" id="input-name" placeholder="Name" name="tag[name]" data-v-tag-name>
				</div>
			 </div>		 

			 <div class="mb-3 row">
				<label for="input-site-title" class="col-sm-2 col-form-label">Slug</label>
				<div class="col-sm-10">
				  <input type="text" class="form-control" id="input-slug" placeholder="Slug" name="tag[slug]" data-v-tag-slug>
				</div>
			  </div>		 
			  
			  <div class="mb-3 row">
				<label for="input-description" class="col-sm-2 col-form-label" >Description</label>
				<div class="col-sm-10">
				  <textarea type="email" class="form-control" id="input-description" placeholder="Description" name="tag[content]" data-v-tag-content></textarea>
				</div>
			  </div>
			  
			  <div class="mb-3 row">
					<label for="input-site-title" class="col-sm-2 col-form-label" >Image</label>
					<div class="col-sm-10">
					  
		

						<input type="hidden" data-v-image name="tag[image]" id="featured-image-input" value="">
									
						<img data-v-image src="img/placeholder.svg" alt=""
						 id="featured-image-thumb"
						 data-v-placeholder=""
						 data-media-gallery 
						 data-target-input="#featured-image-input"
						 data-target-thumb="#featured-image-thumb" data-type="single"
						 class="img-thumbnail bg-body-tertiary"
						 style="max-width:200px;"
						 >
							

							<div class="py-3">
								<div class="btn-group">
									<button type="button" class="btn btn-outline-secondary btn-icon btn-sm"
										data-media-gallery data-target-input="#featured-image-input"
										data-target-thumb="#featured-image-thumb" data-type="single">
										<i class="la la-image la-lg"></i> <span>Set image</span>
									</button>
									<button type="button" class="btn btn-outline-secondary btn-icon btn-sm" onclick="clearMedia()">
										<i class="la la-times"></i>
									</button>
								</div>
							</div>
							
					  
				</div>
			</div>			  

			  <div class="mb-3 row">
				<label for="input-site-title" class="col-sm-2 col-form-label" >Status</label>
				<div class="col-sm-10">
					<select name="tag[status]" id="input-status" class="form-control" data-v-tag-status>
						<option value="0" data-v-option>Inactive</option>
						<option value="1" data-v-option>Active</option>
					</select>
				</div>
			  </div>

	
			</div>
        </form>

	@@include('../_includes/main-footer.html')
    </div>

</div>

@@include('../_includes/footer-scripts.html')

<script>
@@include('../_includes/media-variables.html')
</script>


<!-- <script id="openverse-js" src="libs/media/openverse.js"></script> -->
<script id="media-js"src="libs/media/media.js"></script>
<script id="index-js" src="libs/vvveb/index.js"></script>
<script id="functions-js" src="/js/admin/functions.js"></script>
<link href="libs/media/media.css" rel="stylesheet">
<script>
let titleInput = document.getElementById('input-name');
let slugInput  = document.getElementById('input-slug');
let orig = slugify(titleInput.value);

titleInput.addEventListener('keyup', function (e) {
	let text = this.value;
	delay(() => {
		let slug = slugInput.value;
		if (orig == slug || !slug) {
			orig = slugify(text);
			slugInput.value = slug = orig;
		}			
	}, 500);
});
</script>	

@@include('../_includes/footer.html')
