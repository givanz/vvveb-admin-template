@@include('../_includes/html-head.html', {"title": "Vvveb - Plugins","scripts":"","base_href":"../"})

<body>

<div id="container">
       
    @@include('../_includes/sidebar.html')

    <div class="main">

	@@include('../_includes/top-header.html')
				
		<div class="actions mb-3">
			
			<div class="title">
				<h4 class="text-muted my-2">
					<i class="icon-extension-puzzle-outline"></i>
					<span>Plugins</span>
				</h4>
			</div>



			<div class="bulk-actions px-2" style="display:none">
				<!--
			   <button type="button" data-bs-toggle="collapse" href="#filters" aria-expanded="false"
						aria-controls="filters" title="Delete selected"
						class="btn btn-primary">
					<i class="icon-create-outline"></i> Edit selected
				</button>
				-->
			   <button type="button" data-bs-toggle="collapse" href="#filters" aria-expanded="false"
						aria-controls="filters" title="Delete selected"
						class="btn btn-icon btn-outline-secondary bg-body-tertiary text-danger">
					<i class="icon-trash-outline"></i> Delete selected
				</button>
			
			</div>
			
			<div class="btns">
			
				 <a href data-v-url-params='{"module":"plugin/plugin"}'title=""
						class="btn btn-outline-secondary btn-icon ms-1" data-bs-toggle="collapse" data-bs-target=".upload-collapse" aria-expanded="false">
						<i class="la la-cloud-upload-alt la-lg"></i> Upload plugin
				</a>

	 
	 
	 
				 <a href data-v-url-params='{"module":"plugin/market"}' 
						class="btn btn-primary btn-icon ms-1">
					<i class="icon-add-outline"></i> Install plugin
				</a>
			</div>
		</div>

		<div id="main-content" class="plugins card-block" data-v-plugins>
		<!--
		<ul class="nav nav-pills pills-border small mx-2">
		  <li class="nav-item">
			<a class="nav-link active" href="#">All</a>
		  </li>
		  <li class="nav-item">
			<a class="nav-link" href="#">Development</a>
		  </li>
		  <li class="nav-item">
			<a class="nav-link" href="#">Payment</a>
		  </li>			  
		  <li class="nav-item">
			<a class="nav-link" href="#">Shipping</a>
		  </li>
		  <li class="nav-item">
			<a class="nav-link" href="#">Performance</a>
		  </li>  
		  <li class="nav-item">
			<a class="nav-link" href="#">Seo</a>
		  </li>
		</ul>
		-->

		@@include('../_includes/notifications.html')
		
		<div id="safemode" class="alert alert-warning d-flex alert-dismissable">
			<div class="icon">
				<i class="la la-exclamation-triangle"></i>
			</div>
			

			<div class="flex-grow-1 align-self-center"data-v-notification-text>
				Safe mode is active and plugins are not loaded, if you have trouble with a plugin you can disable it below.
			</div>

			<button type="button" class="btn-close ms-2 mt-2" data-bs-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">
					<!-- <i class="la la-times"></i> -->
				</span>
			</button>			
			
		</div>
		
		<iframe border="none" width="100%" height="0" id="plugin-check" style=""  data-v-if="this.checkPluginUrl"  src="" data-v-check-plugin-url>Activating plugin</iframe>
		
		@@include('../_includes/upload-form.html')

		<form action="" method="post">
			<input type="hidden" name="csrf" data-v-csrf>
			<input type="hidden" name="action" id="action" value="">

				<ul class="nav nav-pills pills-border small mx-2 mb-3 float-start" data-v-plugin-categories>
				  <li class="nav-item">
					<a class="nav-link" href="#"  data-v-url-params='{"module":"plugin/plugins"}'>All</a>
				  </li>
				  <li class="nav-item" data-v-plugin-category>
					<a data-v-category-link class="nav-link" href="#"  data-v-url-params='{"module":"plugin/plugins"}'>All</a>
				  </li>
				  <li class="nav-item" data-v-plugin-category>
					<a data-v-category-link class="nav-link" href="#" data-v-url-params='{"module":"plugin/plugins","category":"payment"}'>Payment</a>
				  </li>
				  <li class="nav-item" data-v-plugin-category>
					<a data-v-category-link class="nav-link" href="#" data-v-url-params='{"module":"plugin/plugins","category":"shipping"}'>Shipping</a>
				  </li>			  
				  <li class="nav-item" data-v-plugin-category>
					<a data-v-category-link class="nav-link" href="#" data-v-url-params='{"module":"plugin/plugins","category":"development"}'>Development</a>
				  </li>
				  <li class="nav-item" data-v-plugin-category>
					<a data-v-category-link class="nav-link" href="#" data-v-url-params='{"module":"plugin/plugins","category":"seo"}'>Seo</a>
				  </li>  
				</ul>
				
				
				<div class="float-end pills-border">

                  <input type="radio" name="status" value="" id="all" class="form-check-input btn-check">
				   <label class="form-check-label btn btn-outline-secondary btn-sm" for="all">
						<span>All</span>
                   </label>					
					
					
					<input type="radio" name="status" value="active" id="active" class="form-check-input btn-check">
					<label class="form-check-label btn btn-outline-secondary btn-sm" for="active">
						<span>Active</span>
					</label>			
					
					<input type="radio" name="status" value="inactive" id="inactive" class="form-check-input btn-check">
					<label class="form-check-label btn btn-outline-secondary btn-sm" for="inactive">
						<span>Inactive</span>
					</label>			
				</div>

			@@include('_plugins_list.html', {"actions":true, "thumbs":true})		

		</form>
		</div>

		@@include('../_includes/main-footer.html')
      </div>
</div>

@@include('../_includes/footer-scripts.html')

<script data-v-if="this.checkPluginUrl">
function resizeIFrameToFitContent( iFrame ) {

    iFrame.width  = iFrame.contentWindow.document.body.scrollWidth;
    iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
}

window.addEventListener('DOMContentLoaded', function(e) {

    var iFrame = document.getElementById( 'plugin-check' );
    resizeIFrameToFitContent( iFrame );
});
</script>
<script>
let table = document.querySelector(".plugins-table");
let hash = window.location.hash.replace("#", "");
function filterPluginStatus(status) {
	table.classList.remove("active","inactive");
	table.classList.add(status);
	window.location.hash = status;
	document.querySelector('input[name="status"][value="' + status + '"]').checked = true;
}

document.querySelectorAll('input[name="status"]').forEach(e => e.addEventListener('click', function (e) {
	filterPluginStatus(this.value);
}));

if (["active", "inactive"].includes(hash)) {
	filterPluginStatus(hash);
}
</script>
@@include('../_includes/footer.html')
